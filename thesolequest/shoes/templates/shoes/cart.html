{% extends 'shoes/main.html' %} {% load static %} {% block body %}

<!-- <link rel="stylesheet" href="{% static 'css/main.css' %}" /> -->

<div class="row relative px-1 sm:px-5 lg:px-10 pt-10">
  <div
    class="flex flex-col lg:grid gap-2"
    style="grid-template-columns: 80% 20%"
  >
    <div class="box-element bg-white py-3 px-4 rounded-md shadow-sm">
      <div class="cart-summary sm:grid grid-cols-5 gap-10 place-items-center">
        <div class="hidden sm:block"></div>
        <div class="hidden sm:block"><strong>Item</strong></div>
        <div class="hidden sm:block"><strong>Price</strong></div>
        <div class="hidden sm:block"><strong>Quantity</strong></div>
        <div class="hidden sm:block"><strong>Total</strong></div>

        {% for item in items %}
        <!-- SMALL SCREEN -->
        <div
          class="grid sm:hidden mb-10"
          style="grid-template-columns: 40% 60%"
        >
          <div>
            <img
              class="row-image w-auto h-full border border-gray-500"
              src="{{item.product.imageURL}}"
            />
          </div>
          <div class="flex flex-col justify-between items-center p-2">
            <div class="mx-[10%]">
              <p class="text-md font-semibold text-center">
                {{item.product.name}}
              </p>
            </div>
            <div>
              <p class="text-md text-emerald-600">
                {{item.product.price | floatformat:2}}
              </p>
            </div>
            <div>
              <div class="quantity flex gap-1 items-center">
                <svg
                  data-product="{{item.product.id}}"
                  data-action="add"
                  class="chg-quantity update-cart-button p-1 border rounded-md cursor-pointer"
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="lucide lucide-plus"
                >
                  <path d="M5 12h14" />
                  <path d="M12 5v14" />
                </svg>

                <!-- <img src="{% static  'images/add.png' %}" /> -->
                <p>{{item.quantity}}</p>
                <svg
                  data-product="{{item.product.id}}"
                  data-action="remove"
                  class="chg-quantity update-cart-button p-1 border rounded-md cursor-pointer"
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                  stroke="currentColor"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  class="lucide lucide-minus"
                >
                  <path d="M5 12h14" />
                </svg>
                <!-- <img
                data-product="{{item.product.id}}"
                data-action="remove"
                class="chg-quantity update-cart-button"
                src="{% static  'images/minus.png' %}"
              /> -->
              </div>
            </div>
            <div>
              <p>₹ {{item.get_total}}</p>
            </div>
          </div>
        </div>

        <!-- MID SCREEN -->
        <div class="hidden sm:block">
          <img
            class="row-image h-52 sm:h-full w-auto border border-gray-500"
            src="{{item.product.imageURL}}"
          />
        </div>
        <div class="hidden sm:block">
          <p class="text-md font-semibold text-center">{{item.product.name}}</p>
        </div>
        <div class="hidden sm:block">
          <p class="text-md text-emerald-600">
            {{item.product.price | floatformat:2}}
          </p>
        </div>
        <div class="hidden sm:block">
          <div class="quantity flex gap-1 items-center">
            <svg
              data-product="{{item.product.id}}"
              data-action="add"
              class="chg-quantity update-cart-button p-1 border rounded-md cursor-pointer"
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="lucide lucide-plus"
            >
              <path d="M5 12h14" />
              <path d="M12 5v14" />
            </svg>

            <!-- <img src="{% static  'images/add.png' %}" /> -->
            <p>{{item.quantity}}</p>
            <svg
              data-product="{{item.product.id}}"
              data-action="remove"
              class="chg-quantity update-cart-button p-1 border rounded-md cursor-pointer"
              xmlns="http://www.w3.org/2000/svg"
              width="24"
              height="24"
              viewBox="0 0 24 24"
              fill="none"
              stroke="currentColor"
              stroke-width="2"
              stroke-linecap="round"
              stroke-linejoin="round"
              class="lucide lucide-minus"
            >
              <path d="M5 12h14" />
            </svg>
            <!-- <img
              data-product="{{item.product.id}}"
              data-action="remove"
              class="chg-quantity update-cart-button"
              src="{% static  'images/minus.png' %}"
            /> -->
          </div>
        </div>
        <div class="hidden sm:block">
          <p class="hidden sm:block">₹ {{item.get_total}}</p>
        </div>
        {% endfor %}
      </div>
    </div>
    <div
      class="box-element sticky top-10 flex flex-col justify-between gap-8 h-[300px] bg-white py-3 px-4 rounded-md shadow-sm"
    >
      <a class="btn btn-outline-dark" href="{% url 'shoestore' %}"
        >&#x2190; Continue Shopping</a
      >

      <div class="flex flex-col w-full">
        <h5 class="grid grid-cols-2">
          Items: <strong>{{order.get_cart_total_items}}</strong>
        </h5>
        <h5 class="grid grid-cols-2">
          Total:
          <p class="grid">
            <strong> ₹ {{order.get_cart_total_price}}</strong>
            <span class="text-xs">(including shipping)</span>
          </p>
        </h5>
      </div>
      <a
        style="grid-column: 1/3"
        class="relative py-1 px-2 text-base text-center overflow-hidden rounded-2xl bg-gray-900 font-bold text-white"
        href="{% url 'checkout' %}"
        >Checkout</a
      >
    </div>
  </div>
</div>

{% endblock body %}
